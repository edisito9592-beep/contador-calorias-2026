<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Contador de calor√≠as 2026</title>

<style>
body{font-family:Arial;background:#f5f5f5;padding:15px}
h1{text-align:center}
.card{background:#fff;padding:15px;border-radius:12px;margin-bottom:15px}
.big{font-size:26px;text-align:center}
.green{color:#2ecc71}
.yellow{color:#f1c40f}
.red{color:#e74c3c}
select,input,button{width:100%;padding:10px;margin-top:8px;font-size:16px}
button{background:#2ecc71;color:#fff;border:none;border-radius:8px}
.item{border-bottom:1px solid #eee;padding:6px 0}
.small{font-size:14px;color:#555;text-align:center}
.bar{height:10px;background:#eee;border-radius:6px;overflow:hidden}
.bar div{height:100%;background:#2ecc71}
</style>
</head>

<body>

<h1>üî• NutriFit 2026</h1>

<!-- DATOS PERSONALES -->
<div class="card">
<h3>üìè Datos personales</h3>
<input id="peso" placeholder="Peso (kg)" type="number">
<input id="altura" placeholder="Estatura (cm)" type="number">
<input id="edad" placeholder="Edad" type="number">

<select id="sexo">
<option value="h">Hombre</option>
<option value="m">Mujer</option>
</select>

<select id="actividad">
<option value="1.2">Sedentario</option>
<option value="1.375">Ligero (1-3 d√≠as)</option>
<option value="1.55">Moderado (3-5 d√≠as)</option>
<option value="1.725">Alto (6-7 d√≠as)</option>
</select>

<select id="tipo">
<option value="fuerza">Fuerza / pesas</option>
<option value="cardio">Cardio</option>
<option value="mixto">Mixto</option>
</select>

<button onclick="calcObjetivos()">Calcular objetivos</button>
</div>

<!-- OBJETIVOS -->
<div class="card">
<h3>üéØ Objetivos diarios</h3>
<div class="small" id="objetivos">A√∫n no calculados</div>
</div>

<!-- CONSUMO -->
<div class="card">
<div id="kcal" class="big green">0 kcal</div>
<div class="small" id="macros">Prote√≠na: 0 g</div>
<div class="bar"><div id="pbar"></div></div>
</div>

<script>
let objetivos=JSON.parse(localStorage.getItem("objetivos"))||{};
let consumo=JSON.parse(localStorage.getItem("consumo"))||{kcal:0,p:0};

function calcObjetivos(){
  let peso=+document.getElementById("peso").value;
  let alt=+document.getElementById("altura").value;
  let edad=+document.getElementById("edad").value;
  let sexo=document.getElementById("sexo").value;
  let act=+document.getElementById("actividad").value;
  let tipo=document.getElementById("tipo").value;

  if(!peso||!alt||!edad)return;

  let tmb=sexo==="h"
    ?10*peso+6.25*alt-5*edad+5
    :10*peso+6.25*alt-5*edad-161;

  let mantenimiento=Math.round(tmb*act);
  let deficit=mantenimiento-400;
  let volumen=mantenimiento+300;

  let prot=peso*(tipo==="fuerza"?2.2:2);

  objetivos={mantenimiento,deficit,volumen,prot};
  localStorage.setItem("objetivos",JSON.stringify(objetivos));

  renderObjetivos();
}

function renderObjetivos(){
  if(!objetivos.mantenimiento)return;
  document.getElementById("objetivos").innerHTML=
  `üî• Mantenimiento: <b>${objetivos.mantenimiento}</b> kcal<br>
   üî¥ D√©ficit: <b>${objetivos.deficit}</b> kcal<br>
   üü¢ Volumen limpio: <b>${objetivos.volumen}</b> kcal<br>
   üí™ Prote√≠na objetivo: <b>${Math.round(objetivos.prot)}</b> g`;
}

function renderConsumo(){
  kcal.innerText=Math.round(consumo.kcal)+" kcal";
  macros.innerText=`Prote√≠na: ${Math.round(consumo.p)} / ${Math.round(objetivos.prot||0)} g`;
  let pct=Math.min(100,(consumo.p/(objetivos.prot||1))*100);
  pbar.style.width=pct+"%";
}

renderObjetivos();
renderConsumo();
</script>

</body>
</html>
