<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Contador de calor√≠as 2026</title>
<meta name="theme-color" content="#2ecc71">

<style>
body{font-family:Arial;background:#f5f5f5;padding:15px}
h1{text-align:center}
.card{background:#fff;padding:15px;border-radius:12px;margin-bottom:15px}
.big{font-size:30px;text-align:center}
.green{color:#2ecc71}
.small{font-size:14px;color:#555;text-align:center}
select,input,button{width:100%;padding:10px;margin-top:8px;font-size:16px}
button{background:#2ecc71;color:#fff;border:none;border-radius:8px}
button.gray{background:#95a5a6}
.item{border-bottom:1px solid #eee;padding:6px 0}
.del{color:red;float:right;cursor:pointer}
.progress{height:10px;background:#eee;border-radius:10px;overflow:hidden}
.progress div{height:100%;background:#2ecc71}
.row{display:flex;gap:6px}
.row button{flex:1}
</style>
</head>

<body>

<h1>üî• Calor√≠as del d√≠a</h1>

<div class="card">
  <div id="kcal" class="big green">0 / 2000 kcal</div>
  <div id="macros" class="small">Prote√≠na: 0 g | Grasas: 0 g | Carbs: 0 g</div>
  <div class="progress"><div id="pbar"></div></div>
</div>

<div class="card">
<h3>üéØ Datos personales</h3>
<input id="peso" type="number" placeholder="Peso (kg)">
<input id="altura" type="number" placeholder="Estatura (cm)">
<input id="edad" type="number" placeholder="Edad">
<select id="sexo">
  <option value="h">Hombre</option>
  <option value="m">Mujer</option>
</select>
<select id="actividad">
  <option value="1.2">Sedentario</option>
  <option value="1.4">Ligero</option>
  <option value="1.6">Moderado</option>
  <option value="1.8">Activo</option>
</select>
<button onclick="calcObjetivos()">Calcular objetivos</button>
<div id="objetivos" class="small"></div>
</div>

<div class="card">
<h3>üçΩÔ∏è Agregar alimento</h3>

<select id="food">
<option value="">Selecciona alimento</option>

<optgroup label="ü•© Carnes">
<option value="pollo">Pollo</option>
<option value="res">Res</option>
<option value="cerdo">Cerdo</option>
<option value="pavo">Pavo</option>
<option value="salmon">Salm√≥n</option>
<option value="tilapia">Tilapia</option>
<option value="atun">At√∫n</option>
<option value="camaron">Camar√≥n</option>
</optgroup>

<optgroup label="üçû Panes">
<option value="pan_blanco">Pan blanco</option>
<option value="pan_integral">Pan integral</option>
<option value="pan_caja">Pan de caja</option>
<option value="bolillo">Bolillo</option>
<option value="baguette">Baguette</option>
<option value="pan_pita">Pan pita</option>
<option value="pan_hamburguesa">Pan hamburguesa</option>
<option value="pan_hotdog">Pan hot dog</option>
</optgroup>

<optgroup label="üßÄ Quesos">
<option value="panela">Panela</option>
<option value="oaxaca">Oaxaca</option>
<option value="manchego">Manchego</option>
<option value="mozzarella">Mozzarella</option>
<option value="americano">Americano</option>
<option value="parmesano">Parmesano</option>
<option value="gouda">Gouda</option>
<option value="cheddar">Cheddar</option>
</optgroup>

<optgroup label="üåÆ Otros">
<option value="huevo_g">Huevo (gramos)</option>
<option value="huevo_p">Huevo (pieza)</option>
<option value="tortilla_g">Tortilla (gramos)</option>
<option value="tortilla_p">Tortilla (pieza)</option>
</optgroup>
</select>

<select id="prep">
<option value="crudo">Crudo / natural</option>
<option value="plancha">A la plancha</option>
<option value="hervido">Hervido</option>
<option value="rostizado">Rostizado</option>
<option value="lenia">A la le√±a</option>
<option value="empanizado">Empanizado</option>
<option value="frito">Frito</option>
<option value="aceite">Con aceite</option>
</select>

<div id="oilBox" style="display:none">
<select id="oilType">
<option value="oliva">Aceite de oliva</option>
<option value="vegetal">Aceite vegetal</option>
<option value="aguacate">Aceite de aguacate</option>
<option value="coco">Aceite de coco</option>
</select>
<input id="oilGrams" type="number" placeholder="Gramos de aceite">
<div class="row">
<button class="gray" onclick="setOil(5)">5 g</button>
<button class="gray" onclick="setOil(10)">10 g</button>
<button class="gray" onclick="setOil(20)">20 g</button>
</div>
</div>

<input id="qty" type="number" placeholder="Cantidad (g o piezas)">
<input id="kcalManual" type="number" placeholder="Calor√≠as por pieza (si aplica)">
<button onclick="add()">Agregar</button>
</div>

<div class="card">
<h3>üìã Alimentos del d√≠a</h3>
<div id="list"></div>
<button onclick="resetDay()" style="background:#e74c3c">Nuevo d√≠a</button>
</div>

<script>
let objetivoKcal=2000, objetivoP=100;
let d=JSON.parse(localStorage.getItem("day"))||{kcal:0,p:0,g:0,c:0,items:[]};

const base={
 pollo:[165,31,4,0], res:[250,26,20,0], cerdo:[242,27,14,0], pavo:[135,29,1,0],
 salmon:[208,20,13,0], tilapia:[96,20,2,0], atun:[116,26,1,0], camaron:[99,24,1,0],
 pan_blanco:[265,9,3,49], pan_integral:[247,13,4,41], pan_caja:[270,9,4,50],
 bolillo:[260,8,2,54], baguette:[270,9,1,56], pan_pita:[275,9,1,55],
 pan_hamburguesa:[260,8,5,45], pan_hotdog:[270,8,5,48],
 panela:[200,18,10,3], oaxaca:[356,22,28,2], manchego:[393,25,33,1],
 mozzarella:[280,28,17,3], americano:[371,23,30,2], parmesano:[431,36,29,4],
 gouda:[356,25,27,2], cheddar:[403,25,33,1],
 huevo_g:[155,13,11,1], huevo_p:[70,6,5,0],
 tortilla_g:[218,6,2,45], tortilla_p:[0,0,0,0]
};

const prepExtra={
 crudo:0, plancha:0, hervido:0,
 rostizado:20, lenia:20, empanizado:50
};

prep.onchange=()=>oilBox.style.display=["aceite","frito"].includes(prep.value)?"block":"none";
function setOil(g){oilGrams.value=g}

function calcObjetivos(){
 let p=+peso.value,h=+altura.value,e=+edad.value;
 let bmr=sexo.value=="h"?10*p+6.25*h-5*e+5:10*p+6.25*h-5*e-161;
 let mantenimiento=bmr*+actividad.value;
 objetivoKcal=Math.round(mantenimiento-400);
 objetivoP=Math.round(p*2);
 objetivos.innerHTML=`Mantenimiento: ${Math.round(mantenimiento)} kcal<br>D√©ficit: ${objetivoKcal} kcal<br>Prote√≠na objetivo: ${objetivoP} g`;
 render();
}

function add(){
 let f=food.value,q=+qty.value;
 if(!f||!q)return;
 let [k,p,g,c]=base[f];
 let kcal = (f==="tortilla_p") ? (+kcalManual.value||0)*q : k*q/100;

 let pr=p*q/100, gr=g*q/100, ca=c*q/100;
 kcal+=prepExtra[prep.value]||0;

 if(oilBox.style.display==="block"){
   let og=+oilGrams.value||0;
   kcal+=og*9; gr+=og;
 }

 d.kcal+=kcal; d.p+=pr; d.g+=gr; d.c+=ca;
 d.items.push({n:food.options[food.selectedIndex].text+" ("+prep.options[prep.selectedIndex].text+")",kcal});
 localStorage.setItem("day",JSON.stringify(d));
 render();
}

function render(){
 kcal.innerText=`${Math.round(d.kcal)} / ${objetivoKcal} kcal`;
 macros.innerText=`Prote√≠na: ${Math.round(d.p)} g | Grasas: ${Math.round(d.g)} g | Carbs: ${Math.round(d.c)} g`;
 pbar.style.width=Math.min(100,(d.kcal/objetivoKcal)*100)+"%";
 list.innerHTML=d.items.map((i,x)=>`<div class="item">${i.n} - ${Math.round(i.kcal)} kcal <span class="del" onclick="del(${x})">‚ùå</span></div>`).join("");
}

function del(i){
 d.kcal-=d.items[i].kcal;
 d.items.splice(i,1);
 localStorage.setItem("day",JSON.stringify(d));
 render();
}

function resetDay(){localStorage.removeItem("day");location.reload()}
render();
</script>

</body>
</html>
