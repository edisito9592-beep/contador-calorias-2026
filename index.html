<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Contador de CalorÃ­as & Macros</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#f4f6f8;
  padding:15px;
}
.card{
  background:#fff;
  padding:15px;
  margin-bottom:15px;
  border-radius:10px;
  box-shadow:0 2px 5px rgba(0,0,0,.1);
}
h2{text-align:center}
input,select,button{
  width:100%;
  padding:10px;
  margin-top:8px;
  border-radius:6px;
  border:1px solid #ccc;
}
button{
  background:#2ecc71;
  color:#fff;
  font-size:16px;
  border:none;
}
.resumen{
  text-align:center;
  font-size:18px;
}
.progress{
  background:#eee;
  border-radius:10px;
  overflow:hidden;
  height:12px;
  margin-top:5px;
}
.progress div{
  background:#2ecc71;
  height:100%;
}
.macros{
  font-size:16px;
  margin-top:5px;
}
</style>
</head>

<body>

<div class="card">
<h2>ğŸ“ Datos personales</h2>

<input id="peso" placeholder="Peso (kg)">
<input id="estatura" placeholder="Estatura (cm)">
<input id="edad" placeholder="Edad">

<select id="sexo">
  <option>Hombre</option>
  <option>Mujer</option>
</select>

<select id="actividad">
  <option value="1.2">Sedentario</option>
  <option value="1.375">Ligero</option>
  <option value="1.55">Moderado</option>
  <option value="1.725">Intenso</option>
</select>

<button onclick="calcularObjetivos()">Calcular objetivos</button>
</div>

<div class="card">
<h2>ğŸ¯ Objetivos diarios</h2>
<p id="objetivos"></p>
</div>

<div class="card">
<h2>ğŸ½ï¸ Agregar alimento</h2>

<input id="nombre" placeholder="Nombre alimento">
<input id="calorias" placeholder="CalorÃ­as">
<input id="proteina" placeholder="ProteÃ­na (g)">
<input id="carbs" placeholder="Carbohidratos (g)">
<input id="grasas" placeholder="Grasas (g)">

<button onclick="agregar()">Agregar</button>
</div>

<div class="card resumen">
<p id="kcal">0 kcal</p>

<div class="macros" id="prot">ğŸ’ª ProteÃ­na: 0 g</div>
<div class="macros" id="carb">ğŸš Carbohidratos: 0 g</div>
<div class="macros" id="gras">ğŸ¥‘ Grasas: 0 g</div>

<div class="progress">
  <div id="barra"></div>
</div>
</div>

<script>
let totalKcal=0, totalProt=0, totalCarbs=0, totalGrasas=0;
let objetivoProt=0;

function calcularObjetivos(){
  const pesoVal=+peso.value;
  const estVal=+estatura.value;
  const edadVal=+edad.value;
  const sexoVal=sexo.value;
  const act=+actividad.value;

  let tmb = sexoVal==="Hombre"
    ? 10*pesoVal + 6.25*estVal - 5*edadVal + 5
    : 10*pesoVal + 6.25*estVal - 5*edadVal - 161;

  let mantenimiento=Math.round(tmb*act);
  let deficit=mantenimiento-400;
  let volumen=mantenimiento+300;

  objetivoProt=Math.round(pesoVal*2.2);

  objetivos.innerHTML=`
ğŸ”¥ Mantenimiento: <b>${mantenimiento} kcal</b><br>
ğŸ”» DÃ©ficit: <b>${deficit} kcal</b><br>
â¬†ï¸ Volumen limpio: <b>${volumen} kcal</b><br>
ğŸ’ª ProteÃ­na objetivo: <b>${objetivoProt} g</b>
`;
}

function agregar(){
  totalKcal+=+calorias.value;
  totalProt+=+proteina.value;
  totalCarbs+=+carbs.value;
  totalGrasas+=+grasas.value;

  kcal.textContent=totalKcal+" kcal";
  prot.textContent=`ğŸ’ª ProteÃ­na: ${totalProt} / ${objetivoProt} g`;
  carb.textContent=`ğŸš Carbohidratos: ${totalCarbs} g`;
  gras.textContent=`ğŸ¥‘ Grasas: ${totalGrasas} g`;

  let pct=Math.min((totalProt/objetivoProt)*100,100);
  barra.style.width=pct+"%";

  nombre.value=calorias.value=proteina.value=carbs.value=grasas.value="";
}
</script>

</body>
</html>
